<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download and Return a Tidy Data Frame of <acronym>GSOD</acronym> Weather Data — get_GSOD • GSODR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Download and Return a Tidy Data Frame of <acronym>GSOD</acronym> Weather Data — get_GSOD" />

<meta property="og:description" content="This function automates downloading, cleaning, reformatting of data from
the Global Surface Summary of the Day (GSOD) data provided by the
US National Centers for Environmental Information (NCEI),
Three additional useful elements: saturation vapour pressure (es), actual
vapour pressure (ea) and relative humidity (RH) are calculated and returned
in the final data frame." />

<meta property="og:image" content="https://ropensci.github.io/GSODR/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">GSODR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/GSODR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Working_with_spatial_and_climate_data.html">Working with spatial and climate data from GSODR and GSODRdata</a>
    </li>
    <li>
      <a href="../articles/use_case_1.html">GSODR use case: Finding specific stations using spatial queries</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/GSODR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download and Return a Tidy Data Frame of <acronym>GSOD</acronym> Weather Data</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/GSODR/blob/master/R/get_GSOD.R'><code>R/get_GSOD.R</code></a></small>
    <div class="hidden name"><code>get_GSOD.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function automates downloading, cleaning, reformatting of data from
the Global Surface Summary of the Day (<acronym>GSOD</acronym>) data provided by the
<a href='https://data.noaa.gov/dataset/dataset/global-surface-summary-of-the-day-gsod/'>US National Centers for Environmental Information (NCEI)</a>,
Three additional useful elements: saturation vapour pressure (es), actual
vapour pressure (ea) and relative humidity (RH) are calculated and returned
in the final data frame.</p>
    
    </div>

    <pre class="usage"><span class='fu'>get_GSOD</span>(<span class='no'>years</span>, <span class='kw'>station</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>max_missing</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>agroclimatology</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>years</th>
      <td><p>Year(s) of weather data to download.</p></td>
    </tr>
    <tr>
      <th>station</th>
      <td><p>Optional. Specify a station or multiple stations for which to
retrieve, check and clean weather data using <var>STNID</var>. The <acronym>NCEI</acronym>
reports years for which the data are available. This function checks against
these years. However, not all cases are properly documented and in some cases
files may not exist on the <acronym>FTP</acronym> server even though it is indicated
that data was recorded for the station for a particular year. If a station is
specified that does not have an existing file on the server, this function
will silently fail and move on to existing files for download and cleaning
from the <acronym>FTP</acronym> server.</p></td>
    </tr>
    <tr>
      <th>country</th>
      <td><p>Optional. Specify a country for which to retrieve weather
data; full name or <acronym>ISO</acronym> codes can be used.</p></td>
    </tr>
    <tr>
      <th>max_missing</th>
      <td><p>Optional. The maximum number of days allowed to be missing
from a station's data before it is excluded from final file output.</p></td>
    </tr>
    <tr>
      <th>agroclimatology</th>
      <td><p>Optional. Logical. Only clean data for stations
between latitudes 60 and -60 for agroclimatology work, defaults to <code>FALSE</code>.
Set to <code>TRUE</code> to include only stations within the confines of these
latitudes.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame as a <code><a href='http://www.rdocumentation.org/packages/tibble/topics/tibble'>tibble</a></code> object of weather
data.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Stations reporting a latitude of &lt; -90 or &gt; 90 or longitude of &lt; -180 or &gt;
180 are removed. Stations may be individually checked for number of
missing days to assure data quality and omitting stations with too many
missing observations.</p>
<p>All units are converted to International System of Units (SI), <em>e.g.</em>
Fahrenheit to Celsius and inches to millimetres.</p>
<p>Alternative elevation measurements are supplied for missing values or values
found to be questionable based on the Consultative Group for International
Agricultural Research's Consortium for Spatial Information group's
(<acronym>CGIAR-CSI</acronym>) Shuttle Radar Topography Mission 90 metre
(<acronym>SRTM</acronym> 90m) digital elevation data based on <acronym>NASA</acronym>'s
original <acronym>SRTM</acronym> 90m data. Further information on these data and
methods can be found on <span class="pkg">GSODR</span>'s
<a href='https://github.com/ropensci/GSODR/blob/master/data-raw/fetch_isd-history.md'>GitHub repository</a>.</p>
<p>Data summarise each year by station, which include vapour pressure and
relative humidity elements calculated from existing data in <acronym>GSOD</acronym>.</p>
<p>All missing values in resulting files are represented as <code>NA</code> regardless
of which field they occur in.</p>
<p>For a complete list of the fields and description of the contents and units,
please refer to Appendix 1 in the <span class="pkg">GSODR</span> vignette,
<code><a href='../articles/GSODR.html'>utils::vignette("GSODR", package = "GSODR")</a></code>.</p>
<p>For more information see the description of the data provided by
<acronym>NCEI</acronym>, <a href='http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt'>http://www7.ncdc.noaa.gov/CDO/GSOD_DESC.txt</a>.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>While <span class="pkg">GSODR</span> does not distribute GSOD weather data, users of
the data should note the conditions that the U.S. <acronym>NCEI</acronym> places upon
the <acronym>GSOD</acronym> data.
&#8220;The following data and products may have conditions placed on
their international commercial use.  They can be used within the U.S. or for
non-commercial international activities without restriction. The non-U.S.
data cannot be redistributed for commercial purposes. Re-distribution of
these data by others must provide this same notification.&#8221;</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Jarvis, A., Reuter, H. I, Nelson, A., Guevara, E. (2008)
Hole-filled SRTM for the globe Version 4, available from the CGIAR-CSI SRTM
90m Database <a href='http://srtm.csi.cgiar.org'>http://srtm.csi.cgiar.org</a></p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='reformat_GSOD.html'>reformat_GSOD</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Download weather station for Toowoomba, Queensland for 2010</span>
<span class='no'>t</span> <span class='kw'>&lt;-</span> <span class='fu'>get_GSOD</span>(<span class='kw'>years</span> <span class='kw'>=</span> <span class='fl'>2010</span>, <span class='kw'>station</span> <span class='kw'>=</span> <span class='st'>"955510-99999"</span>)</div><div class='output co'>#&gt; |======================================================|100% ~0 s remaining     </div><div class='input'>
<span class='co'># Download data for Philippines for year 2010 with a maximum of five missing</span>
<span class='co'># days per station allowed.</span>

<span class='fu'>get_GSOD</span>(<span class='kw'>years</span> <span class='kw'>=</span> <span class='fl'>2010</span>, <span class='kw'>country</span> <span class='kw'>=</span> <span class='st'>"Philippines"</span>, <span class='kw'>max_missing</span> <span class='kw'>=</span> <span class='fl'>5</span>)</div><div class='output co'>#&gt; # A tibble: 4,709 x 48
#&gt;    USAF  WBAN  STNID STN_NAME CTRY  STATE CALL    LAT   LON ELEV_M
#&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  2 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  3 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  4 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  5 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  6 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  7 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  8 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt;  9 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt; 10 9822… 99999 9822… VIGAN    RP    &lt;NA&gt;  RPUQ   17.6  120.    4.9
#&gt; # ... with 4,699 more rows, and 38 more variables: ELEV_M_SRTM_90m &lt;dbl&gt;,
#&gt; #   BEGIN &lt;int&gt;, END &lt;int&gt;, YEARMODA &lt;date&gt;, YEAR &lt;chr&gt;, MONTH &lt;chr&gt;,
#&gt; #   DAY &lt;chr&gt;, YDAY &lt;dbl&gt;, TEMP &lt;dbl&gt;, TEMP_CNT &lt;int&gt;, DEWP &lt;dbl&gt;,
#&gt; #   DEWP_CNT &lt;int&gt;, SLP &lt;dbl&gt;, SLP_CNT &lt;int&gt;, STP &lt;dbl&gt;, STP_CNT &lt;int&gt;,
#&gt; #   VISIB &lt;dbl&gt;, VISIB_CNT &lt;int&gt;, WDSP &lt;dbl&gt;, WDSP_CNT &lt;int&gt;, MXSPD &lt;dbl&gt;,
#&gt; #   GUST &lt;dbl&gt;, MAX &lt;dbl&gt;, MAX_FLAG &lt;chr&gt;, MIN &lt;dbl&gt;, MIN_FLAG &lt;chr&gt;,
#&gt; #   PRCP &lt;dbl&gt;, PRCP_FLAG &lt;chr&gt;, SNDP &lt;dbl&gt;, I_FOG &lt;int&gt;, I_RAIN_DRIZZLE &lt;int&gt;,
#&gt; #   I_SNOW_ICE &lt;int&gt;, I_HAIL &lt;int&gt;, I_THUNDER &lt;int&gt;, I_TORNADO_FUNNEL &lt;int&gt;,
#&gt; #   EA &lt;dbl&gt;, ES &lt;dbl&gt;, RH &lt;dbl&gt;</div><div class='input'>
<span class='co'># Download global GSOD data for agroclimatology work for years 2010 and 2011</span>

<span class='fu'>get_GSOD</span>(<span class='kw'>years</span> <span class='kw'>=</span> <span class='fl'>2010</span>:<span class='fl'>2011</span>, <span class='kw'>agroclimatology</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; # A tibble: 6,507,032 x 48
#&gt;    USAF  WBAN  STNID STN_NAME CTRY  STATE CALL    LAT   LON ELEV_M
#&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
#&gt;  1 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  2 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  3 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  4 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  5 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  6 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  7 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  8 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt;  9 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt; 10 0082… 99999 0082… WXPOD82… AF    &lt;NA&gt;  &lt;NA&gt;   33.0  65.6  1157.
#&gt; # ... with 6,507,022 more rows, and 38 more variables: ELEV_M_SRTM_90m &lt;dbl&gt;,
#&gt; #   BEGIN &lt;int&gt;, END &lt;int&gt;, YEARMODA &lt;date&gt;, YEAR &lt;chr&gt;, MONTH &lt;chr&gt;,
#&gt; #   DAY &lt;chr&gt;, YDAY &lt;dbl&gt;, TEMP &lt;dbl&gt;, TEMP_CNT &lt;int&gt;, DEWP &lt;dbl&gt;,
#&gt; #   DEWP_CNT &lt;int&gt;, SLP &lt;dbl&gt;, SLP_CNT &lt;int&gt;, STP &lt;dbl&gt;, STP_CNT &lt;int&gt;,
#&gt; #   VISIB &lt;dbl&gt;, VISIB_CNT &lt;int&gt;, WDSP &lt;dbl&gt;, WDSP_CNT &lt;int&gt;, MXSPD &lt;dbl&gt;,
#&gt; #   GUST &lt;dbl&gt;, MAX &lt;dbl&gt;, MAX_FLAG &lt;chr&gt;, MIN &lt;dbl&gt;, MIN_FLAG &lt;chr&gt;,
#&gt; #   PRCP &lt;dbl&gt;, PRCP_FLAG &lt;chr&gt;, SNDP &lt;dbl&gt;, I_FOG &lt;int&gt;, I_RAIN_DRIZZLE &lt;int&gt;,
#&gt; #   I_SNOW_ICE &lt;int&gt;, I_HAIL &lt;int&gt;, I_THUNDER &lt;int&gt;, I_TORNADO_FUNNEL &lt;int&gt;,
#&gt; #   EA &lt;dbl&gt;, ES &lt;dbl&gt;, RH &lt;dbl&gt;</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Adam H Sparks, <a href='mailto:adamhsparks@gmail.com'>adamhsparks@gmail.com</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Adam Sparks, Tomislav Hengl, Andrew Nelson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script>
  docsearch({
    
    
    apiKey: '432336b5561cc8eeddda9af96c7a8cc2',
    indexName: 'gsodr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

